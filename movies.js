const protoMovies = [{
  year: 1928,
  title: "Wings",
  init: "W",
  director: "William Wellman",
  stars: ["Clara Bow", "Charles (Buddy) Rogers", "Richard Arlen"],
  lines: [],
  hints: ["First Oscar", "Young Gary Cooper", "./vids/wings.mp4"],
  pics: [],
  videos: [],
  audios: [],
  syn: "two young men from the same town but different social classes end up as fighter pilots in WWI. Jack Preston is a keen auto mechanic, building and modifying cars. David Armstrong comes from a wealthy family. They are both in love with the same woman, Sylvia.",
  links: ["https://www.imdb.com/title/tt0018578/?ref_=ev_nom"],
  oscar: "Y"  
},
{
  year: 1929,
  title: "The Broadway Melody",
  init: "TBM",
  director: "Harry Beaumont",
  stars: ["Anita Page", "Bessie Love", "Charles King"],
  lines: [""],
  hints: ["2nd Oscar winning film"],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  syn: "a pair of sisters from the vaudeville circuit try to make it big time on Broadway, but matters of the heart complicate the attempt.",
  links: ["https://www.imdb.com/title/tt0019729/?ref_=ev_nom"],
oscar: "Y"
},
{
  year: 1930,
  title: "All Quiet on the Western Front",
  init: "AQOTWF",
  director: "Lewis Milestone",
  stars: ["Lew Ayers", "Louis Wolheim"],
  lines: [""],
  hints: ["World War I", "From a famous novel"],
  pics: [],
  videos: [],
  audios: ["./auds/boo.mp3"],
  syn: "a German youth eagerly enters World War I, but his enthusiasm wanes as he gets a firsthand view of the horror.",
  links: ["https://www.imdb.com/title/tt0020629/?ref_=ev_nom"],
  oscar: "Y"
  },
{
  year: 1931,
  title: "Cimarron",
  init: "C",
  director: "Wesley Ruggles",
  stars: ["Richard Dix", "Irene Dunne"],
  lines: [""],
  hints: ["Early Oscar Winning Western", "From an Edna Ferber novel of the same name.", "Sounds like a spice."],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  syn: "a newspaper editor settles in an Oklahoma boom town with his reluctant wife at the end of the nineteenth century.",
  links: ["https://www.imdb.com/title/tt0021746/?ref_=ev_nom"],
  oscar: "Y"
  },
{
  year: 1932,
  title: "Grand Hotel",
  init: "GH",
  director: "Edmund Goulding",
  stars: ["Greta Garbo", "John Barrymore", "Joan Crawford"],
  lines: [""],
  hints: ["First Oscar winner to have a stellar cast", "Berlin", "Adlon Kempinski"],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  syn: "a group of very different individuals staying at a luxurious hotel in Berlin deal with each of their respective dramas.",
  links: ["https://www.imdb.com/title/tt0022958/?ref_=ev_nom"],
  oscar: "Y"
  },
  {
    year: 1932,
    title: "Tarzan the Ape Man",
    init: "TTAM",
    director: "W.S. Van Dyke",
    stars: ["Johnny Weissmuller", "Maureen O'Sullivan", "C. Aubrey Smith", "Neil Hamilton"],
    lines: [""],
    hints: ["./pics/tarzan1.jpg", "./pics/tarzan2.jpg"],
    pics: [],
    videos: [],
    audios: [],
    syn: "Tarzan's distinctive call was either created by sound recordist Douglas Shearer from various sounds, or it was indeed Johnny Weissmuller doing the yell himself. Co-star Maureen O'Sullivan insisted throughout her life that it was Weissmuller doing the yell without any technical assistance. Johnny Weissmuller explained on the Mike Douglas show that he was the one that did the yell, which he did on the show.",
    links: ["https://www.imdb.com/title/tt0022958/?ref_=ev_nom"],
    oscar: ""
    },  
{
  year: 1933,
  title: "Cavalcade",
  init: "C",
  director: "Frank Lloyd",
  stars: ["Diana Wynyard", "Clive Brook"],
  lines: [""],
  hints: ["Another early oscar winner. This one set in England", "The name of the movie means a ceremonial procession or display."],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  syn: "a portrayal of the triumphs and tragedies of two English families is shown, the upper-crust Marryots and the working-class Bridgeses, from 1899 to 1933.",
  links: ["https://www.imdb.com/title/tt0023876/?ref_=ev_nom"],
  oscar: "Y"
},
{
  year: 1933,
  title: "The Private Life of Henry VIII",
  init: "TPLOHTV",
  director: "Frank Lloyd",
  stars: ["Charles Laughton", "Merle Oberon"],
  lines: [""],
  hints: ["English Royalty", "Charles Laughton", "./vids/chicken.mp4"],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  syn: "King Henry VIII marries five more times after his divorce from his first wife Catherine of Aragon.",
  links: ["https://www.imdb.com/title/tt0024473/?ref_=ev_nom"],
  oscar: "N"
},
{
  year: 1933,
  title: "King Kong",
  init: "KK",
  director: "Merian C. Cooper",
  stars: ["Fay Wray", "Robert Armstrong", "Bruce Cabot"],
  lines: ["Twas beauty killed the beast"],
  hints: ["A lot of screaming", "./pics/kingkong.png", "./auds/kingkong.m4a"],
  pics: [],
  videos: [],
  audios: [],
  syn: "a film crew goes to a tropical island for an exotic location shoot and discovers a colossal ape who takes a shine to their female blonde star. He is then captured and brought back to New York City for public exhibition.",
  links: ["https://www.imdb.com/title/tt0024216/?ref_=ttls_li_tt"],
  oscar: ""
},
{
  year: 1934,
  title: "It Happened One Night",
  init: "IHON",
  director: "Frank Capra",
  stars: ["Clark Gable", "Claudette Colbert"],
  lines: [""],
  hints: ["Capra romantic comedy", "Gable"],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  syn: "a renegade reporter trailing a young runaway heiress for a big story joins her on a bus heading from Florida to New York, and they end up stuck with each other when the bus leaves them behind at one of the stops.",
  links: ["https://www.imdb.com/title/tt0025316/?ref_=ev_nom"],
  oscar: "Y"
},
{
  year: 1934,
  title: "The Thin Man",
  init: "TTM",
  director: "W. S. Van Dyke",
  stars: ["William Powell", "Myrna Loy"],
  lines: [""],
  hints: ["Light Capra comedy", "./pics/asta.jpg"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "former detective Nick Charles and his wealthy wife Nora investigate a murder case, mostly for the fun of it.",
  links: ["https://www.imdb.com/title/tt0025878/?ref_=ev_nom"],
  oscar: "N"
  },
  {
  year: 1934,
  title: "The Barretts of Wimpole Street",
  init: "TBOWS",
  director: "Sidney Franklin",
  stars: ["Norma Shearer", "Frederick March", "Charles Laughton"],
  lines: [""],
  hints: ["1930's", "Famous Poetic Family", "./pics/barrets.jpg"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "Elizabeth Barrett's tyrannical father has forbidden any of his family to marry. Nevertheless, Elizabeth falls in love with the poet Robert Browning.",
  links: ["https://www.imdb.com/title/tt0024865/?ref_=ev_nom"],
  oscar: "N"
  },
{
  year: 1934,
  title: "The Scarlett Pimpernel",
  init: "TSP",
  director: "Harold Young",
  stars: ["Leslie Howard", "Merle Oberon", "Raymond Massey", "Nigel Bruce"],
  lines: [""],
  hints: ["Heaven or Hell", "./pics/scarlett2.png", "./pics/scarlettmassey.png"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "a noblewoman discovers her husband is The Scarlet Pimpernel, a vigilante who rescues aristocrats from the blade of the guillotine.",
  links: ["https://www.imdb.com/title/tt0025748/?ref_=ttls_li_tt"],
  oscar: ""
  },
  {
  year: 1934,
  title: "The Count of Monte Cristo",
  init: "TCOMC",
  director: "Rowland V. Lee",
  stars: ["Robert Donat", "Elissa Landi", "Louis Calhern"],
  lines: [""],
  hints: ["./pics/cristo.png", "REVENGE!"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "after greedy men have Edmond Dantes unjustly imprisoned for 20 years for innocently delivering a letter entrusted to him, he escapes to get his revenge on them.",
  links: ["https://www.imdb.com/title/tt0025004/?ref_=ttls_li_tt"],
  oscar: ""
  },
  {
    year: 1935,
    title: "Mutiny on the Bounty",
    init: "MOTB",
    director: "Michael Curtiz",
    stars: ["Clark Gable", "Charles Laughton", "Franchot Tone"],
    lines: [""],
    hints: ["Classic Seafaring Movie", "At least 2 remakes have been filmed", "./vids/mutiny.mp4"],
    pics: [],
    videos: [''],
    audios: [""],
    syn: "first mate Fletcher Christian leads a revolt against his sadistic commander, Captain Bligh, in this classic seafaring adventure, based on the real-life 1789 mutiny.",
    links: ["https://www.imdb.com/title/tt0026752/?ref_=ttls_li_tt"],
    oscar: "Y"
    },  
  {
  year: 1935,
  title: "Captain Blood",
  init: "CB",
  director: "Michael Curtiz",
  stars: ["Errol Flynn", "Olivia De Havilland", "Lionel Atwill", "Basil Rathbone"],
  lines: [""],
  hints: ["Swashbuckling at its best", "Made its star a star", "./auds/blood.m4a"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "after treating a Monmouth rebel against King James II in 1680s England, a young Irish doctor is exiled as a slave to Jamaica where he captures a Spanish galleon and becomes the most feared pirate of the Caribbean.",
  links: ["https://www.imdb.com/title/tt0026174/?ref_=ev_nom"],
  oscar: "N"
  },
  {
  year: 1935,
  title: "Les Miserables",
  init: "LM",
  director: "Richard Boleslawski",
  stars: ["Frederic March", "Charles Laughton", "Cedrick Hardwick"],
  lines: [""],
  hints: ["From a famous 19th Century novel", "A later musical hit"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "in early-19th-century France, an ex-convict who failed to report to parole is relentlessly pursued over a 20-year period by an obsessive policeman.",
  links: ["https://www.imdb.com/title/tt0026725/?ref_=ev_nom"],
  oscar: "N"
  },
  {
    year: 1935,
    title: "The Bride of Frakenstein",
    init: "TBOF",
    director: "James Whale",
    stars: ["Boris Karloff", "Elsa Lanchester", "Colin Clive"],
    lines: [""],
    hints: ["She's alive!", "./pics/bride.png"],
    pics: [],
    videos: [''],
    audios: [""],
    syn: "Mary Shelley (Elsa Lanchester), author of Frankenstein, or The Modern Prometheus, reveals to Percy Shelley (Douglas Walton) and Lord Byron (Gavin Gordon) that Henry Frankenstein (Colin Clive) and his Monster (Boris Karloff) did not die. Both lived, and went on to even stranger misadventures than before.",
    links: ["https://www.imdb.com/title/tt0026138/?ref_=ttls_li_tt"],
    oscar: ""
    },  
{
  year: 1935,
  title: "The 39 Steps",
  init: "TTS",
  director: "Alfred Hitchcock",
  stars: ["Robert Donat", "Madeleine Carroll", "Lucie Mannheim"],
  lines: [""],
  hints: ["./pics/mrmemory.png", "./vids/thirtynine.mp4", "./vids/thirtynine2.mp4"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "before filming the scene where Hannay (Robert Donat) and Pamela (Madeleine Carroll) run through the countryside, Alfred Hitchcock handcuffed them together and pretended for several hours to have lost the key in order to put them in the right frame of mind for such a situation.",
  links: ["https://www.imdb.com/title/tt0026029/?ref_=ttls_li_tt"],
  oscar: ""
  },    
  {
  year: 1936,
  title: "The Great Ziegfeld",
  init: "TGZ",
  director: "Robert Z. Leonard",
  stars: ["William Powell", "Myrna Loy", "Luise Rainer"],
  lines: [""],
  hints: ["Stars the Thin Man couple", "About a producer"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "the ups and downs of Florenz Ziegfeld Jr., famed producer of extravagant stage revues, are portrayed.",
  links: ["https://www.imdb.com/title/tt0027698/?ref_=ev_nom"],
  oscar: "Y"
  },
  {
  year: 1936,
  title: "A Tale of Two Cities",
  init: "ATOTC",
  director: "Jack Conway",
  stars: ["Ronald Coleman", "Elizabeth Allan", "Edna May Oliver"],
  lines: [""],
  hints: ["From a famous 19th Century novel", "./pics/twocities.png"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "a pair of lookalikes, one a former French aristocrat and the other an alcoholic English lawyer, fall in love with the same woman amidst the turmoil of the French Revolution.",
  links: ["https://www.imdb.com/title/tt0027075/?ref_=ev_nom"],
  oscar: "N"
  },
  {
  year: 1936,
  title: "Mr. Deeds Goes to Town",
  init: "MDGTT",
  director: "Frank Capra",
  stars: ["Gary Cooper", "Jean Arthur", "George Bancroft"],
  lines: [""],
  hints: ["./pics/deeds.png", "./auds/deeds.m4a"],
  pics: [],
  videos: [''],
  audios: [""],
  syn: "an unassuming greeting card poet from a small town in Vermont heads to New York City upon inheriting a massive fortune and is immediately hounded by those who wish to take advantage of him.",
  links: ["https://www.imdb.com/title/tt0027996/?ref_=ev_nom"],
  oscar: "N"
  }        
  

  
  /*,
{
  year: 1957,
  title: "Bridge on the River Kwai",
  init: "BOTRK",
  director: "David Lean",
  stars: ["William Holden", "Jack Hawkins"],
  lines: ["Kill him! Kill him!"],
  hints: ["Asian jungle"],
  pics: [],
  videos: ['./vids/test.mp4'],
  audios: ["./auds/boo.mp3"],
  oscar: "Y"
  },
{
  year: 1959,
  title: "Ben Hur",
  init: "BH",
  director: "William Wyler",
  stars: ["Charlton Heston", "Stephen Boyd", "Haya Harareet", "Jack Hawkins", "Hugh Griffith"],
  lines: ["Row well and live", "We keep you alive to serve this ship"],
  hints: ["12 awards", "./auds/applause.mp3", './vids/Ben Hur opening.mp4'],
  pics: ['./pics/strand.jpg'],
  videos: ['./vids/Ben Hur opening.mp4','./vids/Ben-Hur 2.mp4'],
  audios: ["./auds/applause.mp3"],
  oscar: "Y"
}*/
];

const dec1920s=["./1920s/nilsasther.jpg","./1920s/valentino.jpg","./1920s/garbo.jpg","./1920s/marypickford.jpg","./1920s/fairbanks.jpg","./1920s/gaynor.jpg"]

// ARRAY OF 5 COLORS FOR THE INITIALS
let initColors=['#fffc31', '#D8973C', '#736372', '#36827F', '#C6D8FF']

// Select modal
let mpopup = document.getElementById('mpopupBox');
let mpopupBodyEl = document.querySelector('.modal-body');
let modalTextEl = document.getElementById('modal-txt');
let modalImgEl = document.getElementById('modal-img');
let modalVidEl = document.getElementById('modal-video');
let modalHeaderTextEl = document.getElementById('modal-header-txt');



// GET IDS OF HINTS FOR EACH LINE
let line1Hint1El = document.getElementById('line1hint1')

let close = document.querySelector(".close");


let selectedMovies = [];

const initialsEl = document.getElementById('initials');

let movieInitialsSpan = ""

// GET NUMBER OF OSCAR WINNERS ALONG WITH SPAN OF YEARS
let oscarWinners = 0;
let earliestYear = 5000;
let latestYear = 0;
for(i=0; i<protoMovies.length; i++){
  if(protoMovies[i].oscar === "Y"){
    oscarWinners++
  }
  if(protoMovies[i].year < earliestYear){
    earliestYear = protoMovies[i].year
  }
  if(protoMovies[i].year > latestYear){
    latestYear = protoMovies[i].year
  }
}



let input = document.getElementById("input1");
input.addEventListener("keyup", function(event) {
  console.log('event list code = ' + event.code)
    if (event.code === "Enter") {
        submit(1);  
        }
});

input = document.getElementById("input2");
input.addEventListener("keyup", function(event) {
  console.log('event list code = ' + event.code)
    if (event.code === "Enter") {
        submit(2);  
        }
});

input = document.getElementById("input3");
input.addEventListener("keyup", function(event) {
  console.log('event list code = ' + event.code)
    if (event.code === "Enter") {
        submit(3);  
        }
});

input = document.getElementById("input4");
input.addEventListener("keyup", function(event) {
  console.log('event list code = ' + event.code)
    if (event.code === "Enter") {
        submit(4);  
        }
});

input = document.getElementById("input5");
input.addEventListener("keyup", function(event) {
  console.log('event list code = ' + event.code)
    if (event.code === "Enter") {
        submit(5);  
        }
});





// END OF GET NUMBER OF OSCAR WINNERS ALONG WITH SPAN OF YEARS


// BUILD THE SPAN FOR THE THE INITIALS BY FIRST CREATING A FRONT STUB THEN LOOPING THRU MOVIES
// THEN APPENDING AN ENDING STUB
function buildInitSpan(){
    console.log("entered buildinitspan")
    console.log(selectedMovies)
    movieInitialsSpan = "<span class='init-class'><span id='movie1' onclick="+"'movieClick(0)'>"+selectedMovies[0].init+"</span>"
    for (i=1; i<selectedMovies.length; i++){
      console.log("top of for loop")
      movieInitialsSpan = movieInitialsSpan + "<span id ='movie" + (i+1) + "' onclick="+"'movieClick("+i+")'>"+selectedMovies[i].init+"</span>"
    movieInitialsSpan = movieInitialsSpan + "</span>"
    console.log(movieInitialsSpan)
    }
}  

function formatHintIcons(){
  let hintEl = document.getElementById('line1')
  hintEl.style.display = "none";
  hintEl = document.getElementById('line2')
  hintEl.style.display = "none";
  hintEl = document.getElementById('line3')
  hintEl.style.display = "none";
  hintEl = document.getElementById('line4')
  hintEl.style.display = "none";
  hintEl = document.getElementById('line5')
  hintEl.style.display = "none";

  for (i=0; i<selectedMovies.length; i++){
    // ADD CODE HERE TO DETERMINE PROPER IMAGE TO SHOW FOR EACH HINT
    console.log("Hints length = " + selectedMovies[i].hints.length)
    let lineEl = document.getElementById('line'+(i+1))
    lineEl.style.visibility = "visible"
    let inputEl = document.getElementById("input"+(i+1));
    inputEl.value = ""

    // INIT ALL to TEXT AND HIDDEN
    let hintEl = document.getElementById('line'+(i+1)+'hint1')
    hintEl.src="./pics/t.png"
    hintEl.style.visibility = "hidden"
    hintEl = document.getElementById('line'+(i+1)+'hint2')
    hintEl.src="./pics/t.png"   
    hintEl.style.visibility = "hidden"
    hintEl = document.getElementById('line'+(i+1)+'hint3')
    hintEl.src="./pics/t.png" 
    hintEl.style.visibility = "hidden"

    hintEl = document.getElementById('line'+(i+1))
    hintEl.style.display = "flex"

    for (let j = 0; j<selectedMovies[i].hints.length; j++){
      let hintEl = document.getElementById('line'+(i+1)+'hint'+(j+1))
      hintEl.style.visibility = "visible"
      let hint = (selectedMovies[i].hints[j]);
      console.log("hint = " + hint)
      let last3 = (hint.slice(hint.length - 3));
      if ((last3==="mp3") || (last3==="m4a")){
        // set hint image to audio
        let hintEl = document.getElementById('line'+(i+1)+'hint'+(j+1) )
        hintEl.src="./pics/audio.svg"
      }
      if (last3==="mp4"){
        // set hint image to video
        let hintEl = document.getElementById('line'+(i+1)+'hint'+(j+1) )
        hintEl.src="./pics/video.png"
      }
      if ((last3==="jpg")||(last3==="png")){
        // set hint image to image
        let hintEl = document.getElementById('line'+(i+1)+'hint'+(j+1) )
        hintEl.src="./pics/image.png"
      }
    }
  }

}

function findWinners(startY){
  for (i=0; i<protoMovies.length; i++){
    console.log("start year = " + startY)
    if (protoMovies[i].year<startY || protoMovies[i].year > startY+4){
      
    } else 
    if (protoMovies[i].oscar === "Y"){
      selectedMovies.push(protoMovies[i])
    }
  }
}


// THIS WILL FIND ALL THE MOVIES THAT WERE NOMINATED IN THE GIVEN YEAR 
function findSpecificYear(y){
  for (i=0; i<protoMovies.length; i++){
    if (protoMovies[i].year === y){
      if (protoMovies[i].oscar === "Y" || protoMovies[i].oscar === "N") {
        selectedMovies.push(protoMovies[i]);
      }
    }
  }
}


function showHelp(){
  modalTextEl.style.fontSize = '1.25rem';
  modalHeaderTextEl.textContent = "WELCOME TO M.O.V.I.E.S.!!";
  modalTextEl.textContent = ("'M.O.V.I.E.S.' " + "so far has a collection of " + protoMovies.length + " movies starting with the year " + earliestYear + " and going thru to " + latestYear + ", including " + oscarWinners + " Oscar winners. You can generate movie initials in one of two ways. Select the 'Random' button to display the initials of one and only one movie. If you select the 'Oscars' button you will get either a set of initials for Oscar nominated films from one randomly selected year, or you will get a set of initials of 5 Oscar winning films from a consecutive 5 year span between " + earliestYear + " and " + latestYear + ", but the order will be jumbled. To take a guess, enter the movie name in the text box and either press the enter key or click 'Sub'. Up to 3 hints are available for each film. These hints can be in the form of a word or short phrase, an audio clip, an image or a short video clip. Another helpful aide is to hover over and/or click on any of the initials displayed. That letter, along with the rest of the initials for the movie it is part of, will change color. When all else fails, you can select the 'Ans' button. Once there, '...' will take you to more info."); 
  modalImgEl.style.display = "none";
  modalVidEl.style.display = "none";
  mpopup.style.display = "block";
  modalTextEl.style.display = "block";

}

function showImg(image){ 
  modalImgEl.src=image
  modalVidEl.style.display = "none";
  modalTextEl.style.display = "none";
  modalImgEl.style.display = "block";
  mpopup.style.display = "block";
}

function showVid(video){
    modalImgEl.style.display = "none";
    modalTextEl.style.display = "none";
    modalVidEl.src=video
    modalVidEl.style.display = "block";
    mpopup.style.display = "block";
  }

  function playAudio(aud){
    const audio = new Audio (aud);
    audio.play(); 
    modalImgEl.src="./pics/audio.svg"
    modalVidEl.style.display = "none";
    modalTextEl.style.display = "none";
    modalImgEl.style.display = "block";
    mpopup.style.display = "block";
  }

  function showTxt(txt){
    modalImgEl.style.display = "none";
    modalTextEl.style.display = "block";
    modalTextEl.innerText = txt;
    modalVidEl.style.display = "none";
    mpopup.style.display = "block";
  }



// Close modal once close element is clicked
close.onclick = function() {
  mpopup.style.display = "none";
  modalVidEl.pause()
};





/*
movieInitialsSpan = "<span class='init-class'><span id='movie1'>"+protoMovies[0].init+"</span><span id='movie2'>"+protoMovies[1].init+"</span><span id='movie3'>"+protoMovies[2].init+"</span></span>"
*/

function setSpan(){
  initialsEl.innerHTML = ""
  const initialsSpan = document.createElement('span');
  //initialsSpan.innerHTML = testSpan
  //initialsEl.appendChild(initialsSpan);
  console.log("reached initials span  span = " + movieInitialsSpan)
  initialsSpan.innerHTML = movieInitialsSpan
  initialsEl.appendChild(initialsSpan);
}



function movieClick(m){
  console.log("reached movie click " + m + " name of " + selectedMovies[m].title  )
  let idToGet = 'movie'  + (m+1);
  let initEl = document.getElementById(idToGet)
  initEl.style.color = initColors[m]
}

function hint1(movie){
  modalTextEl.style.fontSize = '2rem';
  modalHeaderTextEl.textContent = "Hint #1" 
  let hint = (selectedMovies[movie-1].hints[0]);
  let last3 = (hint.slice(hint.length - 3));
  if ((last3==="mp3")||(last3==="m4a")){
    playAudio(hint)
    return
  } 
  if (last3==="mp4"){
    showVid(hint)
    return
  }
  if ((last3==="jpg")||(last3==="png")){
    showImg(hint)
    return
  }
  showTxt(hint)
}



function hint2(movie){
  modalTextEl.style.fontSize = '2rem';
  modalHeaderTextEl.textContent = "Hint #2" 
  let hint = (selectedMovies[movie-1].hints[1]);
  let last3 = (hint.slice(hint.length - 3));
  if ((last3==="mp3")||(last3==="m4a")){
    playAudio(hint)
    return
  } 
  if (last3==="mp4"){
    showVid(hint)
    return
  }
  if ((last3==="jpg")||(last3==="png")){
    showImg(hint)
    return
  }
  showTxt(hint)
}





function hint3(movie){
  modalTextEl.style.fontSize = '2rem';
  modalHeaderTextEl.textContent = "Hint #3" 
  let hint = (selectedMovies[movie-1].hints[2]);
  let last3 = (hint.slice(hint.length - 3));
  if ((last3==="mp3")||(last3==="m4a")){
    playAudio(hint)
    return
  } 
  if (last3==="mp4"){
    showVid(hint)
    return
  }
  if ((last3==="jpg")||(last3==="png")){
    showImg(hint)
    return
  }
  showTxt(hint)
}


function random(){
  console.log("entered random function")
  selectedMovies=[];
  let i = Math.floor(Math.random()*protoMovies.length)
  selectedMovies.push(protoMovies[i])
  buildInitSpan()
  setSpan()
  formatHintIcons()
}

function oscars(){
  console.log("entered oscars function")
  let i = Math.floor(Math.random()*2);
  if(i===0){
    year();
  }
  else{
    winners();
  }  
}


function year(){
  console.log("entered year function")
  selectedMovies=[]
  findSpecificYear(protoMovies[Math.floor(Math.random()*protoMovies.length)].year);
  selectedMovies.sort(() => 0.5 - Math.random());
  buildInitSpan()
  setSpan()
  formatHintIcons()
}

function winners(){
  let startingYear=0;
  console.log ("span of years = " + (latestYear - earliestYear))
  let yearOffset = Math.floor(Math.random()*((latestYear - earliestYear) - 3))
  selectedMovies=[];
  startingYear = earliestYear + yearOffset;
  findWinners(startingYear);
  selectedMovies.sort(() => 0.5 - Math.random());
  buildInitSpan()
  setSpan()
  formatHintIcons()
}


function submit(linenum){
  let inputEl = document.getElementById("input"+linenum);
  let userAns = inputEl.value;
  let upperAns = userAns.toUpperCase();
  let upperCorrect = (selectedMovies[linenum-1].title).toUpperCase();
  modalTextEl.style.fontSize = '2rem';
  modalHeaderTextEl.textContent = "Your Answer" 
  if(upperAns === upperCorrect){
    modalTextEl.textContent = "You are correct!!!"
    const audio = new Audio ("./auds/tada.mp3");
    audio.play(); 
    showAnswer(linenum)
  }
  else
  {
    modalTextEl.textContent = userAns + " is not correct, Try again"
  }

  modalImgEl.style.display = "none";
  modalVidEl.style.display = "none";
  mpopup.style.display = "block";
  modalTextEl.style.display = "block";
}

function  showPics(){

  let containerEl = document.body
  let images = document.getElementsByClassName("img")

   while(images.length > 0) {
    images[0].parentNode.removeChild(images[0]);
   }

  for(i=0; i<dec1920s.length; i++ ){
    let img = document.createElement('img');
    console.log("width = " + containerEl.clientWidth)
    let xoffset = Math.floor(Math.random()*containerEl.clientWidth)
    let yoffset = Math.floor(Math.random()*450)
    let width = 100+Math.floor(Math.random()*100)
    img.src = dec1920s[i]
    img.style.position="absolute"
    img.style.top= yoffset+"px"
    img.style.left = xoffset+"px"
    img.style.width = width+"px"
    img.style.opacity = .65
    img.style.borderRadius = "35px"
    img.className = "img"

  //  document.getElementById('container').appendChild(img);
    containerEl.appendChild(img);
}
}


function showAnswer(linenum){
  
  modalTextEl.style.fontSize = '1.5rem';
  
  modalHeaderTextEl.textContent = "Answer to Movie #" + linenum + " "
  modalTextEl.textContent = "The answer is '" + selectedMovies[linenum-1].title + "' from " + selectedMovies[linenum-1].year + ". In " + selectedMovies[linenum-1].title + ", " +  selectedMovies[linenum-1].syn +   " Directed by " + selectedMovies[linenum-1].director + ". Starring"
  for(i=0; i<selectedMovies[linenum-1].stars.length; i++){
    if(i>0){
      if(i===(selectedMovies[linenum-1].stars.length-1)){
        modalTextEl.textContent = modalTextEl.textContent + " and "
      }
    }
    modalTextEl.textContent = modalTextEl.textContent + " " + selectedMovies[linenum-1].stars[i];
  }


        
                // Create anchor element.
                let a = document.createElement('a'); 
                  
                // Create the text node for anchor element.
             //   let link = document.createTextNode( "Link to more on " +  selectedMovies[linenum-1].title);
                let link = document.createTextNode("...");
                  
                // Append the text node to anchor element.
                a.appendChild(link); 
                  
                // Set the title.
             //   a.title = "Link to more on " +  selectedMovies[linenum-1].title; 
                  
                // Set the href property.
                a.target="_blank"
                a.href = selectedMovies[linenum-1].links[0]
                // Append the anchor element to the body.
          //      mpopupBodyEl.appendChild(a); 
                modalHeaderTextEl.appendChild(a)
  modalTextEl.textContent = modalTextEl.textContent + "."
  modalImgEl.style.display = "none";
  modalVidEl.style.display = "none";
  mpopup.style.display = "block";
  modalTextEl.style.display = "block";
}